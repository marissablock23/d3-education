"0","library(tidyverse)
"
"2","[37mâ”€â”€ [1mAttaching packages[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 1.2.1 â”€â”€[39m
"
"2","[37m[32mâœ”[37m [34mggplot2[37m 3.1.0     [32mâœ”[37m [34mpurrr  [37m 0.3.0
[32mâœ”[37m [34mtibble [37m 2.0.1     [32mâœ”[37m [34mdplyr  [37m 0.7.8
[32mâœ”[37m [34mtidyr  [37m 0.8.2     [32mâœ”[37m [34mstringr[37m 1.4.0
[32mâœ”[37m [34mreadr  [37m 1.3.1     [32mâœ”[37m [34mforcats[37m 0.3.0[39m
"
"2","[37mâ”€â”€ [1mConflicts[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€
[31mâœ–[37m [34mdplyr[37m::[32mfilter()[37m masks [34mstats[37m::filter()
[31mâœ–[37m [34mdplyr[37m::[32mlag()[37m    masks [34mstats[37m::lag()[39m
"
"0","library(here)"
"2","here() starts at /Users/marissablock/Documents/Data-Viz/educ
"
"0","library(treemapify)"
"0","library(RColorBrewer)"
"0","library(haven)"
"0","library(readxl)"
"0","library(sf)"
"2","Linking to GEOS 3.6.1, GDAL 2.1.3, PROJ 4.9.3
"
"0","library(extrafont)"
"2","Registering fonts with R
"
"0","library(ggrepel)"
"0","library(ggridges)"
"2","
Attaching package: â€˜ggridgesâ€™

"
"2","The following object is masked from â€˜package:ggplot2â€™:

    scale_discrete_manual

"
"0","library(waffle)"
"0","# WDI"
"0","wdi <- read_csv(""../fininc-data/clean/clean.wdi.csv"")"
"2","Parsed with column specification:
cols(
  .default = col_double(),
  country.x = [31mcol_character()[39m,
  cntry.code = [31mcol_character()[39m,
  country.y = [31mcol_character()[39m,
  Region = [31mcol_character()[39m,
  inc.grp = [31mcol_character()[39m
)
"
"2","See spec(...) for full column specifications.
"
"0","# Returns to schooling"
"0","returns <- read_xlsx(""ReturnsEdAnnex2.xlsx"", sheet = ""Sheet 1"","
"0","                    na = """", skip = 7)"
"1",""
"1","-"
"1",""
"1","/"
"1","                                                                                                                                                       "
"1",""
"2","New names:
* `` -> `..1`
* `` -> `..2`
* `` -> `..3`
* `` -> `..4`
* `` -> `..5`
* â€¦ and 10 more
"
"0","  # Rename variables"
"0","  returns <- returns %>%"
"0","    rename(""country"" = ""..1"", ""year""= ""..2"", ""Region"" = ""..3"", ""inc"" = ""..4"", ""yrs.sch"" = ""..5"", ""overall"" = ""..6"", ""primary"" = ""Prim..7"", ""secondary"" = ""Sec..8"", ""higher"" = ""Higher..9"", ""primary.soc"" = ""Prim..13"", ""secondary.soc"" = ""Sec..14"", ""higher.soc"" = ""Higher..15"", ""male"" = ""Males"", ""female"" = ""Females"", ""private"" = ""Private"", ""public"" = ""Public"", ""source"" = ""See Annex 3"")"
"0","  # Ignore full discounting, private for now"
"0","  "
"0","  # Remove first row"
"0","  returns <- returns[-1,]"
"0","  "
"0","# World Bank Ed Stats"
"0","edstats <- read_csv(""wb_edstats.csv"", na = "".."","
"0","                col_types = cols("
"0","                  `2007 [YR2007]` = col_number() "
"0","                ))"
"0","  # Drop last 5 rows"
"0","  edstats <- head(edstats, -5)"
"0","  "
"0","  # Rename variables"
"0","  edstats <- rename(edstats, country = ""Country Name"", cntry.code = ""Country Code"")"
"0","  "
"0","  # Reshape year variables to column"
"0","  edstats <- edstats %>%"
"0","    gather(`2007 [YR2007]`, `2008 [YR2008]`, `2009 [YR2009]`, `2010 [YR2010]`, `2011 [YR2011]`, `2012 [YR2012]`,"
"0","           `2013 [YR2013]`, `2014 [YR2014]`, `2015 [YR2015]`, `2016 [YR2016]`, `2017 [YR2017]`,"
"0","           key = year, value = value)"
"0","  "
"0","  # Drop Series Name"
"0","  edstats <- select(edstats, -`Series`)"
"0","  "
"0","  # Reshape Series Code column to variables"
"0","  edstats <- edstats %>%"
"0","    spread(key = `Series Code`, value = value)"
"0","  "
"0","  # Make year variable factor"
"0","  edstats$year <- str_sub(edstats$year, 1, 4)"
"0","  edstats$year <- as.numeric(edstats$year)"
"0","  "
"0","  # Make variables names lowercase"
"0","  colnames(edstats) <- tolower(colnames(edstats))"
